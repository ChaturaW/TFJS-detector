(this["webpackJsonptfjs-detector"]=this["webpackJsonptfjs-detector"]||[]).push([[0],{263:function(e,t,n){},264:function(e,t,n){},270:function(e,t){},271:function(e,t){},279:function(e,t){},281:function(e,t){},282:function(e,t){},296:function(e,t,n){"use strict";n.r(t);var c=n(65),r=n.n(c),i=n(237),a=n.n(i),o=(n(263),n.p,n(264),n(4)),s=n.n(o),u=n(11),l=n(6),d=n(238),j=n.n(d),b=(n(295),n(258)),f=n(197),h=n(149),v=n(49);var O=function(){var e=Object(c.useState)(!0),t=Object(l.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(h.c),a=Object(l.a)(i,2),o=a[0],d=a[1],O=Object(c.useState)(""),x=Object(l.a)(O,2),m=x[0],g=x[1],p=Object(c.useRef)(null),w=Object(c.useRef)(null),k=void 0,C=function(){var e=Object(u.a)(s.a.mark((function e(t){var n,c,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p.current||4!==p.current.video.readyState){e.next=11;break}return n=p.current.video,w.current.width=n.videoWidth,w.current.height=n.videoHeight,console.log("detecting.."),e.next=7,t.detect(n);case 7:c=e.sent,console.log(c),r=w.current.getContext("2d"),S(c,r);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(e,t){e.forEach((function(e){var n=Object(l.a)(e.bbox,4),c=n[0],r=n[1],i=n[2],a=n[3],o=e.class;t.strokeStyle="red",t.font="24px Arial",t.fillStyle="red",t.beginPath(),t.rect(c,r,i,a),t.fillStyle="white",t.fillText(o,c,r-10),t.stroke(),g("")}))};return Object(v.jsxs)("div",{children:[Object(v.jsx)("button",{onClick:function(){n?(clearInterval(k),p.current.stream.getTracks().forEach((function(e){return e.stop()})),r(!1),d(h.b)):(g("Turning on webcam.."),r(!0),d(h.c))},className:"webcamButton",children:Object(v.jsx)(f.a,{icon:o,size:"3x",color:"#464866"})}),Object(v.jsx)("button",{onClick:function(){n&&(g("Loading model. Please wait.."),b.load().then((function(e){var t=e;k=setInterval((function(){C(t)}),10)})))},className:"detectButton",children:Object(v.jsx)(f.a,{icon:h.a,size:"3x",color:"#2E9CCA"})}),Object(v.jsx)("p",{children:m}),Object(v.jsx)("div",{className:"bottomView",children:n&&Object(v.jsxs)("div",{className:"camView",children:[Object(v.jsx)("div",{children:Object(v.jsx)(j.a,{audio:!1,ref:p,videoConstraints:{facingMode:"environment"},className:"webcam"})}),Object(v.jsx)("div",{children:Object(v.jsx)("canvas",{ref:w,className:"canvas"})})]})})]})};var x=function(){return Object(v.jsx)("div",{className:"App",children:Object(v.jsx)(O,{})})},m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,297)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),i(e),a(e)}))};a.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(x,{})}),document.getElementById("root")),m()}},[[296,1,2]]]);
//# sourceMappingURL=main.ff22ac48.chunk.js.map